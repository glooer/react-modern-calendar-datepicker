"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e,a=require("react-dom");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],m=function(e,t){return Array.from(Array(e).keys()).map((function(e){return{value:e+1,id:"".concat(t,"-").concat(e)}}))},f=function(e,t){return!(!e||!t)&&(e.day===t.day&&e.month===t.month&&e.year===t.year)},h=function(e){return 1===e.toString().length?"0".concat(e):e},y=function(e){return c({},e)},g=function(e){return JSON.parse(JSON.stringify(e,(function(e,t){return void 0===t?null:t})))},p=function(e,t){var n="NEXT"===t?1:-1,a=e.month+n,r=e.year;return a<1&&(a=12,r-=1),a>12&&(a=1,r+=1),{year:r,month:a,day:1}},v=function(e,t){return Object.prototype.hasOwnProperty.call(e||{},t)},D=function(e){if(Array.isArray(e))return"MUTLI_DATE";if(v(e,"from")&&v(e,"to"))return"RANGE";if(!e||v(e,"year")&&v(e,"month")&&v(e,"day"))return"SINGLE_DATE";throw new TypeError("The passed value is malformed! Please make sure you're using one of the valid value types for date picker.")},S={toJalaali:function(e,t,n){"[object Date]"===Object.prototype.toString.call(e)&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear());return w(_(e,t,n))},toGregorian:function(e,t,n){return k(N(e,t,n))},isValidJalaaliDate:function(e,t,n){return e>=-61&&e<=3177&&t>=1&&t<=12&&n>=1&&n<=b(e,t)},isLeapJalaaliYear:E,jalaaliMonthLength:b,jalCal:C,j2d:N,d2j:w,g2d:_,d2g:k};function E(e){return 0===C(e).leap}function b(e,t){return t<=6?31:t<=11||E(e)?30:29}function C(e){var t,n,a,r,o,i,c=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],l=c.length,s=e+621,u=-14,d=c[0];if(e<d||e>=c[l-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<l&&(n=(t=c[i])-d,!(e<t));i+=1)u=u+8*A(n,33)+A(R(n,33),4),d=t;return u=u+8*A(o=e-d,33)+A(R(o,33)+3,4),4===R(n,33)&&n-o==4&&(u+=1),r=20+u-(A(s,4)-A(3*(A(s,100)+1),4)-150),n-o<6&&(o=o-n+33*A(n+4,33)),-1===(a=R(R(o+1,33)-1,4))&&(a=4),{leap:a,gy:s,march:r}}function N(e,t,n){var a=C(e);return _(a.gy,3,a.march)+31*(t-1)-A(t,7)*(t-7)+n-1}function w(e){var t,n=k(e).gy,a=n-621,r=C(a);if((t=e-_(n,3,r.march))>=0){if(t<=185)return{jy:a,jm:1+A(t,31),jd:R(t,31)+1};t-=186}else a-=1,t+=179,1===r.leap&&(t+=1);return{jy:a,jm:7+A(t,30),jd:R(t,30)+1}}function _(e,t,n){var a=A(1461*(e+A(t-8,6)+100100),4)+A(153*R(t+9,12)+2,5)+n-34840408;return a=a-A(3*A(e+100100+A(t-8,6),100),4)+752}function k(e){var t,n,a,r;return t=(t=4*e+139361631)+4*A(3*A(4*e+183187720,146097),4)-3908,n=5*A(R(t,1461),4)+308,a=A(R(n,153),5)+1,r=R(A(n,153),12)+1,{gy:A(t,1461)-100100+A(8-r,6),gm:r,gd:a}}function A(e,t){return~~(e/t)}function R(e,t){return e-~~(e/t)*t}var O={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekDays:[{name:"Sunday",short:"S",isWeekend:!0},{name:"Monday",short:"M"},{name:"Tuesday",short:"T"},{name:"Wednesday",short:"W"},{name:"Thursday",short:"T"},{name:"Friday",short:"F"},{name:"Saturday",short:"S",isWeekend:!0}],weekStartingIndex:0,getToday:function(e){return e},toNativeDate:function(e){return new Date(e.year,e.month-1,e.day)},getMonthLength:function(e){return new Date(e.year,e.month,0).getDate()},transformDigit:function(e){return e},nextMonth:"Next Month",previousMonth:"Previous Month",openMonthSelector:"Open Month Selector",openYearSelector:"Open Year Selector",closeMonthSelector:"Close Month Selector",closeYearSelector:"Close Year Selector",from:"from",to:"to",defaultPlaceholder:"Select...",digitSeparator:",",yearLetterSkip:0,isRtl:!1},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],weekDays:[{name:"شنبه",short:"ش"},{name:"یکشنبه",short:"ی"},{name:"دوشنبه",short:"د"},{name:"سه شنبه",short:"س"},{name:"چهارشنبه",short:"چ"},{name:"پنجشنبه",short:"پ"},{name:"جمعه",short:"ج",isWeekend:!0}],weekStartingIndex:1,getToday:function(e){var t=e.year,n=e.month,a=e.day,r=S.toJalaali(t,n,a);return{year:r.jy,month:r.jm,day:r.jd}},toNativeDate:function(e){var t=S.toGregorian.apply(S,u(function(e){return[e.year,e.month,e.day]}(e)));return new Date(t.gy,t.gm-1,t.gd)},getMonthLength:function(e){return S.jalaaliMonthLength(e.year,e.month)},transformDigit:function(e){return e.toString().split("").map((function(e){return d[Number(e)]})).join("")},nextMonth:"ماه بعد",previousMonth:"ماه قبل",openMonthSelector:"نمایش انتخابگر ماه",openYearSelector:"نمایش انتخابگر سال",closeMonthSelector:"بستن انتخابگر ماه",closeYearSelector:"بستن انتخابگر ماه",from:"از",to:"تا",defaultPlaceholder:"انتخاب...",digitSeparator:"،",yearLetterSkip:-2,isRtl:!0},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekDays:[{name:"Понедельник",short:"ПН"},{name:"Вторник",short:"ВТ"},{name:"Среда",short:"СР"},{name:"Четверг",short:"ЧТ"},{name:"Пятница",short:"ПТ"},{name:"Суббота",short:"СБ",isWeekend:!0},{name:"Воскресенье",short:"ВС",isWeekend:!0}],weekStartingIndex:6,getToday:function(e){return e},toNativeDate:function(e){return new Date(e.year,e.month-1,e.day)},getMonthLength:function(e){return new Date(e.year,e.month,0).getDate()},transformDigit:function(e){return e},nextMonth:"Следующий месяц",previousMonth:"Предыдущий месяц",openMonthSelector:"Открыть выбор месяца",openYearSelector:"Открыть выбор года",closeMonthSelector:"Закрыть выбор месяца",closeYearSelector:"Закрыть выбор года",defaultPlaceholder:"",from:"from",to:"to",digitSeparator:".",yearLetterSkip:0,isRtl:!1}},M=function(e){return"string"==typeof e?O[e]:e},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t="string"==typeof e?M(e):e,n=t.months,a=t.getToday,r=t.toNativeDate,o=t.getMonthLength,i=t.weekStartingIndex,l=t.transformDigit,s=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return a({year:t,month:n,day:r})},u=function(e){return n[e-1]},d=function(e){return n.indexOf(e)+1},m=function(e){return(r(c({},e,{day:1})).getDay()+i)%7},f=function(e,t){return!(!e||!t)&&r(e)<r(t)},h=function(e){var t=e.day,n=e.from,a=e.to;if(!t||!n||!a)return!1;var o=r(t),i=r(n),c=r(a);return o>i&&o<c};return{getToday:s,getMonthName:u,getMonthNumber:d,getMonthLength:o,getMonthFirstWeekday:m,isBeforeDate:f,checkDayInDayRange:h,getLanguageDigits:l}},x=function(e){return t.useMemo((function(){return T(e)}),[e])},L=function(e){return t.useMemo((function(){return M(e)}),[e])},P=function(e){var t=e.parent,n=e.isInitialActiveChild,a=e.activeDate,r=e.monthChangeDirection;if(!t)return n?a:p(a,"NEXT");var o=t.children[n?0:1];return o.classList.contains("-shown")||o.classList.contains("-shownAnimated")?a:p(a,r)},I=function(e){var t=e.parent,n=e.direction,a=Array.from(t.children),r=a.find((function(e){return e.classList.contains("-shown")})),o=a.find((function(e){return e!==r})),i=r.classList[0],c="NEXT"===n,l=function(e){return e?"-hiddenNext":"-hiddenPrevious"};o.style.transition="none",r.style.transition="",r.className="".concat(i," ").concat(l(!c)),o.className="".concat(i," ").concat(l(c)),o.classList.add("-shownAnimated")},j=function(e){var t=e.target;t.classList.remove("-hiddenNext"),t.classList.remove("-hiddenPrevious"),t.classList.replace("-shownAnimated","-shown")},Y=function(e){var a=e.maximumDate,r=e.minimumDate,i=e.onMonthChange,l=e.activeDate,s=e.monthChangeDirection,d=e.onMonthSelect,m=e.onYearSelect,h=e.isMonthSelectorOpen,y=e.isYearSelectorOpen,g=e.locale,p=e.onYearChange,v=e.picker,D=t.useRef(null),S=t.useRef(null),E=x(g),b=E.getMonthName,C=E.isBeforeDate,N=E.getLanguageDigits,w=L(g),_=w.isRtl,k=w.nextMonth,A=w.previousMonth,R=w.openMonthSelector,O=w.closeMonthSelector,M=w.openYearSelector,T=w.closeYearSelector;t.useEffect((function(){s&&I({direction:s,parent:S.current})}),[s]),t.useEffect((function(){if("month"!==v){var e=h||y,t=D.current.querySelector(".Calendar__monthYear.-shown .Calendar__monthText"),n=t.nextSibling,a=function(e){return e.classList.contains("-activeBackground")};if(!(!e&&!a(t)&&!a(n))){var r=u(D.current.querySelectorAll(".Calendar__monthArrowWrapper")),o=h||a(t),i=o?t:n,c=o?n:t,l=o?1:-1;_&&(l*=-1);var s=e?1:.95,d=e?"".concat(l*c.offsetWidth/2):0;e?c.setAttribute("aria-hidden",!0):c.removeAttribute("aria-hidden"),c.setAttribute("tabindex",e?"-1":"0"),c.style.transform="",i.style.transform="scale(".concat(s,") ").concat(d?"translateX(".concat(d,"px)"):""),i.classList.toggle("-activeBackground"),c.classList.toggle("-hidden"),r.forEach((function(e){var t=e.classList.contains("-hidden");e.classList.toggle("-hidden"),t?(e.removeAttribute("aria-hidden"),e.setAttribute("tabindex","0")):(e.setAttribute("aria-hidden",!0),e.setAttribute("tabindex","-1"))}))}}}),[h,y]);var Y=a&&C(a,c({},l,{month:l.month+1,day:1})),W=r&&(C(c({},l,{day:1}),r)||f(r,c({},l,{day:1}))),B=function(e){if(!Array.from(S.current.children).some((function(e){return e.classList.contains("-shownAnimated")})))if("month"===v){var t=l.year;p(t+("NEXT"===e?1:-1))}else i(e)},F=[!0,!1].map((function(e){var t=function(e){var t=P({isInitialActiveChild:e,monthChangeDirection:s,activeDate:l,parent:S.current}),n=N(t.year);return{month:b(t.month),year:n}}(e),a=t.month,r=t.year,i=a===b(l.month),u=c({},i?{}:{"aria-hidden":!0});return n.createElement("div",o({onAnimationEnd:j,className:"Calendar__monthYear ".concat(e?"-shown":"-hiddenNext"),role:"presentation",key:String(e)},u),"month"!==v&&n.createElement("button",o({onClick:d,type:"button",className:"Calendar__monthText","aria-label":h?O:R,tabIndex:i?"0":"-1"},u),a),n.createElement("button",o({onClick:m,type:"button",className:"Calendar__yearText","aria-label":y?T:M,tabIndex:i?"0":"-1"},u),r))}));return n.createElement("div",{ref:D,className:"Calendar__header"},n.createElement("button",{className:"Calendar__monthArrowWrapper -right",onClick:function(){B("PREVIOUS")},"aria-label":A,type:"button",disabled:W},n.createElement("span",{className:"Calendar__monthArrow"})),n.createElement("div",{className:"Calendar__monthYearContainer",ref:S,"data-testid":"month-year-container"}," ",F),n.createElement("button",{className:"Calendar__monthArrowWrapper -left",onClick:function(){B("NEXT")},"aria-label":k,type:"button",disabled:Y},n.createElement("span",{className:"Calendar__monthArrow"})))},W=function(e,t){var n=t.allowVerticalArrows,a=document.activeElement,r=function(e,t){return e?e.children[t]:null},o=function(e){return e&&(e.hasAttribute("aria-hidden")?null:e)},i=a.parentElement,c=i.nextSibling,l=i.previousSibling,s=o(a.nextSibling||r(c,0)),u=l?l.children.length-1:0,d=o(a.previousSibling||r(l,u)),m=function(e){return r(e,Array.from(a.parentElement.children).indexOf(a))},f=o(m(c)),h=o(m(l));"true"===a.dataset.isDefaultSelectable||(a.tabIndex="-1");var y=function(t){e.preventDefault(),t&&(t.setAttribute("tabindex","0"),t.focus())};switch(e.key){case"ArrowRight":y(s);break;case"ArrowLeft":y(d);break;case"ArrowDown":n&&y(f);break;case"ArrowUp":n&&y(h)}},B=function(e){var a=e.value,r=e.activeDate,i=e.maximumDate,l=e.minimumDate,s=e.onMonthSelect,u=e.isOpen,d=e.locale,m=e.calendarRangeStartClassName,h=e.calendarRangeEndClassName,y=e.calendarRangeBetweenClassName,g=e.picker,p=t.useRef(null);t.useEffect((function(){var e=u?"add":"remove";p.current.classList[e]("-open")}),[u]);var v=x(d),D=v.getMonthNumber,S=v.isBeforeDate,E=v.checkDayInDayRange,b=L(d).months,C=function(e){var t,n,r,o=(t=e,n=(null==a?void 0:a.from)?{day:1,month:a.from.month,year:a.from.year}:void 0,r=(null==a?void 0:a.to)?{day:1,month:a.to.month,year:a.to.year}:void 0,{isStartingDayRange:f(t,n),isEndingDayRange:f(t,r),isWithinRange:E({day:t,from:n,to:r})}),i=o.isEndingDayRange,c=o.isWithinRange;return"".concat(o.isStartingDayRange?" -selectedStart ".concat(m):"").concat(i?" -selectedEnd ".concat(h):"").concat(c?" -selectedBetween ".concat(y):"")},N="month"!==g;return n.createElement("div",o({role:"presentation",className:"Calendar__monthSelectorAnimationWrapper ".concat("month"===g?"withoutDays":"")},u?{}:{"aria-hidden":!0}),n.createElement("div",{role:"presentation","data-testid":"month-selector-wrapper",className:"Calendar__monthSelectorWrapper",onKeyDown:function(e){W(e,{allowVerticalArrows:!1})}},n.createElement("ul",{ref:p,className:"Calendar__monthSelector ".concat(N?"":"withoutAnimate"),"data-testid":"month-selector"},b.map((function(e){var t=D(e),a={day:1,month:t,year:r.year},o=i&&S(i,c({},a,{month:t})),d=l&&(S(c({},a,{month:t+1}),l)||f(c({},a,{month:t+1}),l)),m=t===r.month&&"month"!==g,h=C(a).concat(m?" -active":"");return n.createElement("li",{key:e,className:"Calendar__monthSelectorItem ".concat(h)},n.createElement("button",{tabIndex:m&&u?"0":"-1",onClick:function(){s(t)},className:"Calendar__monthSelectorItemText",type:"button",disabled:o||d,"aria-pressed":m,"data-is-default-selectable":m},e))})))))};B.defaultProps={calendarRangeStartClassName:"",calendarRangeBetweenClassName:"",calendarRangeEndClassName:""};var F=function(e){for(var a=e.isOpen,r=e.activeDate,i=e.onYearSelect,c=e.selectorStartingYear,l=e.selectorEndingYear,s=e.maximumDate,u=e.minimumDate,d=e.locale,m=t.useRef(null),f=t.useRef(null),h=x(d),y=h.getLanguageDigits,g=h.getToday,p=c||g().year-100,v=l||g().year+50,D=[],S=p;S<=v;S+=1)D.push(S);t.useEffect((function(){var e=a?"add":"remove",t=m.current.querySelector(".Calendar__yearSelectorItem.-active");if(!t)throw new RangeError("Provided value for year is out of selectable year range. You're probably using a wrong locale prop value or your provided value's locale is different from the date picker locale. Try changing the 'locale' prop or the value you've provided.");m.current.classList[e]("-faded"),f.current.scrollTop=t.offsetTop-5*t.offsetHeight,f.current.classList[e]("-open")}),[a]);return n.createElement("div",o({className:"Calendar__yearSelectorAnimationWrapper",role:"presentation"},a?{}:{"aria-hidden":!0}),n.createElement("div",{ref:m,className:"Calendar__yearSelectorWrapper",role:"presentation","data-testid":"year-selector-wrapper",onKeyDown:function(e){W(e,{allowVerticalArrows:!1})}},n.createElement("ul",{ref:f,className:"Calendar__yearSelector","data-testid":"year-selector"},D.map((function(e){var t=s&&e>s.year,o=u&&e<u.year,c=r.year===e;return n.createElement("li",{key:e,className:"Calendar__yearSelectorItem ".concat(c?"-active":"")},n.createElement("button",{tabIndex:c&&a?"0":"-1",className:"Calendar__yearSelectorText",type:"button",onClick:function(){i(e)},disabled:t||o,"aria-pressed":c,"data-is-default-selectable":c},y(e)))})))))};F.defaultProps={selectorStartingYear:0,selectorEndingYear:0};var G=function(e){var a=e.activeDate,r=e.value,i=e.monthChangeDirection,s=e.onSlideChange,d=e.disabledDays,h=e.onDisabledDayError,y=e.minimumDate,p=e.maximumDate,v=e.onChange,S=e.locale,E=e.calendarTodayClassName,b=e.calendarSelectedDayClassName,C=e.calendarRangeStartClassName,N=e.calendarRangeEndClassName,w=e.calendarRangeBetweenClassName,_=e.shouldHighlightWeekends,k=e.isQuickSelectorOpen,A=e.customDaysClassName,R=t.useRef(null),O=L(S),M=O.isRtl,T=O.weekDays,Y=x(S),B=Y.getToday,F=Y.isBeforeDate,G=Y.checkDayInDayRange,J=Y.getMonthFirstWeekday,U=Y.getMonthLength,H=Y.getLanguageDigits,q=Y.getMonthName,V=B();t.useEffect((function(){i&&I({direction:i,parent:R.current})}),[i]);var X=function(e){var t=function(){switch(D(r)){case"SINGLE_DATE":return e;case"RANGE":return function(e){var t=g(r),n=t.from&&t.to?{from:null,to:null}:t,a=n.from?"to":"from";n[a]=e;var o=n.from,i=n.to;F(n.to,n.from)&&(n.from=i,n.to=o);var c=d.find((function(e){return G({day:e,from:n.from,to:n.to})}));return c?(h(c),r):n}(e);case"MUTLI_DATE":return function(e){var t=r.some((function(t){return f(t,e)})),n=[].concat(u(r),[e]),a=r.filter((function(t){return!f(t,e)}));return t?a:n}(e)}}();v(t)},K=function(e){var t,n,a=f(e,V),o=(t=e,"SINGLE_DATE"===(n=D(r))?f(t,r):"MUTLI_DATE"===n?r.some((function(e){return f(e,t)})):void 0),i=r||{},c=i.from,l=i.to;return{isToday:a,isSelected:o,isStartingDayRange:f(e,c),isEndingDayRange:f(e,l),isWithinRange:G({day:e,from:c,to:l})}},Q=function(e){var t=e.isDisabled,n=l(e,["isDisabled"]);t?h(n):X(n)},z=function(e,t){var r=e.id,i=e.value,l=e.month,s=e.year,u=e.isStandard,m={day:i,month:l,year:s},h=d.some((function(e){return f(m,e)})),g=F(m,y),v=F(p,m),D=h||u&&(g||v),S=T.some((function(e,n){return e.isWeekend&&n===t})),R=function(e){var t=K(e),n=t.isToday,a=t.isSelected,r=t.isStartingDayRange,o=t.isEndingDayRange,i=t.isWithinRange,c=A.find((function(t){return f(e,t)}));return"".concat(n&&!a?" -today ".concat(E):"").concat(e.isStandard?"":" -blank").concat(e.isWeekend&&_?" -weekend":"").concat(c?" ".concat(c.className):"").concat(a?" -selected ".concat(b):"").concat(r?" -selectedStart ".concat(C):"").concat(o?" -selectedEnd ".concat(N):"").concat(i?" -selectedBetween ".concat(w):"").concat(e.isDisabled?" -disabled":"")}(c({},m,{isWeekend:S,isStandard:u,isDisabled:D})),O="".concat(T[t].name,", ").concat(i," ").concat(q(l)," ").concat(s),x=l===a.month,L=K(m),P=L.isSelected,I=L.isStartingDayRange,j=L.isEndingDayRange,Y=L.isWithinRange,W=function(e){var t=e.isOnActiveSlide,n=e.isStandard,a=e.isSelected,r=e.isStartingDayRange,o=e.isToday,i=e.day;return!(k||!t||!n)&&(!!(a||r||o||1===i)||void 0)}(c({},m,{},L,{isOnActiveSlide:x,isStandard:u}));return n.createElement("div",o({tabIndex:W?"0":"-1",key:r,className:"Calendar__day -".concat(M?"rtl":"ltr"," ").concat(R),onClick:function(){Q(c({},m,{isDisabled:D}))},onKeyDown:function(e){"Enter"===e.key&&Q(c({},m,{isDisabled:D}))},"aria-disabled":D,"aria-label":O,"aria-selected":P||I||j||Y},u&&x&&!k?{}:{"aria-hidden":!0},{role:"gridcell","data-is-default-selectable":W}),u?H(i):"")},Z=function(e){var t=function(e){var t=m(J(e),"starting-blank"),n=m(U(e)).map((function(t){return c({},t,{isStandard:!0,month:e.month,year:e.year})}));return[].concat(u(t),u(n))}(P({activeDate:a,isInitialActiveChild:e,monthChangeDirection:i,parent:R.current}));return Array.from(Array(6).keys()).map((function(e){var a=t.slice(7*e,7*e+7).map(z);return n.createElement("div",{key:String(e),className:"Calendar__weekRow",role:"row"},a)}))};return n.createElement("div",{ref:R,className:"Calendar__sectionWrapper",role:"presentation","data-testid":"days-section-wrapper",onKeyDown:function(e){W(e,{allowVerticalArrows:!0})}},n.createElement("div",{onAnimationEnd:function(e){j(e),s()},className:"Calendar__section -shown",role:"rowgroup"},Z(!0)),n.createElement("div",{onAnimationEnd:function(e){j(e),s()},className:"Calendar__section -hiddenNext",role:"rowgroup"},Z(!1)))};G.defaultProps={onChange:function(){},onDisabledDayError:function(){},disabledDays:[],calendarTodayClassName:"",calendarSelectedDayClassName:"",calendarRangeStartClassName:"",calendarRangeBetweenClassName:"",calendarRangeEndClassName:"",shouldHighlightWeekends:!1};var J=function(e){var a=e.value,o=e.onChange,i=e.onDisabledDayError,l=e.calendarClassName,u=e.calendarTodayClassName,d=e.calendarSelectedDayClassName,m=e.calendarRangeStartClassName,f=e.calendarRangeBetweenClassName,h=e.calendarRangeEndClassName,v=e.disabledDays,S=e.colorPrimary,E=e.colorPrimaryLight,b=e.slideAnimationDuration,C=e.minimumDate,N=e.maximumDate,w=e.selectorStartingYear,_=e.selectorEndingYear,k=e.locale,A=e.shouldHighlightWeekends,R=e.renderFooter,O=e.customDaysClassName,M=e.picker,T=t.useRef(null),P=s(t.useState({activeDate:null,monthChangeDirection:"",isMonthSelectorOpen:"month"===M,isYearSelectorOpen:!1}),2),I=P[0],j=P[1];t.useEffect((function(){if(null!==T.current){var e=function(e){"Tab"===e.key&&T.current.classList.remove("-noFocusOutline")};return T.current.addEventListener("keyup",e,!1),function(){null!==T.current&&T.current.removeEventListener("keyup",e,!1)}}}),[T]);var W,J=x(k),U=J.getToday,H=J.isBeforeDate,q=L(k),V=q.weekDays,X=q.isRtl,K=U(),Q=function(e){return function(){j(c({},I,r({},e,!I[e])))}},z=Q("isMonthSelectorOpen"),Z=Q("isYearSelectorOpen"),$=I.activeDate?y(I.activeDate):"MUTLI_DATE"===(W=D(a))&&a.length?y(a[0]):"SINGLE_DATE"===W&&a?y(a):"RANGE"===W&&a.from?y(a.from):y(K),ee=V.map((function(e){return n.createElement("abbr",{key:e.name,title:e.name,className:"Calendar__weekDay"},e.short)})),te=function(e){j(c({},I,{activeDate:c({},$,{year:e}),isYearSelectorOpen:!1}))};return n.createElement("div",{className:"Calendar -noFocusOutline ".concat(l," -").concat(X?"rtl":"ltr"),role:"grid",style:{"--cl-color-primary":S,"--cl-color-primary-light":E,"--animation-duration":b},ref:T},n.createElement(Y,{maximumDate:N,minimumDate:C,activeDate:$,onMonthChange:function(e){j(c({},I,{monthChangeDirection:e}))},onMonthSelect:z,onYearSelect:Z,monthChangeDirection:I.monthChangeDirection,isMonthSelectorOpen:I.isMonthSelectorOpen,isYearSelectorOpen:I.isYearSelectorOpen,locale:k,onYearChange:te,picker:M}),n.createElement(B,{value:a,isOpen:I.isMonthSelectorOpen,activeDate:$,onMonthSelect:function(e){if("month"!==M)j(c({},I,{activeDate:c({},$,{month:e}),isMonthSelectorOpen:!1}));else{var t=function(){var t=c({},$,{month:e,day:1});switch(D(a)){case"SINGLE_DATE":return t;case"RANGE":return function(e){var t=g(a),n=t.from&&t.to?{from:null,to:null}:t;n[n.from?"to":"from"]=e;var r=n.from,o=n.to;return H(n.to,n.from)&&(n.from=o,n.to=r),n}(t)}}();o(t)}},maximumDate:N,minimumDate:C,locale:k,calendarRangeStartClassName:m,calendarRangeEndClassName:h,calendarRangeBetweenClassName:f,picker:M}),n.createElement(F,{isOpen:I.isYearSelectorOpen,activeDate:$,onYearSelect:te,selectorStartingYear:w,selectorEndingYear:_,maximumDate:N,minimumDate:C,locale:k}),"month"!==M&&n.createElement(n.Fragment,null,n.createElement("div",{className:"Calendar__weekDays"},ee),n.createElement(G,{activeDate:$,value:a,monthChangeDirection:I.monthChangeDirection,onSlideChange:function(){j(c({},I,{activeDate:p($,I.monthChangeDirection),monthChangeDirection:""}))},disabledDays:v,onDisabledDayError:i,minimumDate:C,maximumDate:N,onChange:o,calendarTodayClassName:u,calendarSelectedDayClassName:d,calendarRangeStartClassName:m,calendarRangeEndClassName:h,calendarRangeBetweenClassName:f,locale:k,shouldHighlightWeekends:A,customDaysClassName:O,isQuickSelectorOpen:I.isYearSelectorOpen||I.isMonthSelectorOpen})),n.createElement("div",{className:"Calendar__footer"},R()))};J.defaultProps={onChange:function(){},minimumDate:null,maximumDate:null,colorPrimary:"#0eca2d",colorPrimaryLight:"#cff4d5",slideAnimationDuration:"0.4s",calendarClassName:"",locale:"en",value:null,renderFooter:function(){return null},customDaysClassName:[]};var U=n.forwardRef((function(e,t){var a=e.value,r=e.inputPlaceholder,o=e.inputClassName,i=e.inputName,c=e.formatInputText,l=e.renderInput,s=e.locale,u=x(s).getLanguageDigits,d=L(s),m=d.from,f=d.to,y=d.yearLetterSkip,g=d.digitSeparator,p=d.defaultPlaceholder,v=d.isRtl,S=function(){if(c())return c();switch(D(a)){case"SINGLE_DATE":return function(){if(!a)return"";var e=u(a.year),t=u(h(a.month)),n=u(h(a.day));return"".concat(e,"/").concat(t,"/").concat(n)}();case"RANGE":return function(){if(!a.from||!a.to)return"";var e=a.from,t=a.to,n="".concat(u(h(e.year)).toString().slice(y),"/").concat(u(h(e.month)),"/").concat(u(h(e.day))),r="".concat(u(h(t.year)).toString().slice(y),"/").concat(u(h(t.month)),"/").concat(u(h(t.day)));return"".concat(m," ").concat(n," ").concat(f," ").concat(r)}();case"MUTLI_DATE":return a.map((function(e){return u(e.day)})).join("".concat(g," "))}},E=r||p;return l({ref:t})||n.createElement("input",{"data-testid":"datepicker-input",readOnly:!0,ref:t,value:S(),name:i,placeholder:E,className:"DatePicker__input -".concat(v?"rtl":"ltr"," ").concat(o),"aria-label":E})}));U.defaultProps={formatInputText:function(){return""},renderInput:function(){return null},inputPlaceholder:"",inputClassName:"",inputName:""};var H=n.forwardRef((function(e,r){var o=e.value,i=e.onChange,c=e.formatInputText,l=e.inputPlaceholder,u=e.inputClassName,d=e.inputName,m=e.renderInput,f=e.wrapperClassName,h=e.calendarClassName,y=e.calendarTodayClassName,g=e.calendarSelectedDayClassName,p=e.calendarRangeStartClassName,v=e.calendarRangeBetweenClassName,S=e.calendarRangeEndClassName,E=e.calendarPopperPosition,b=e.disabledDays,C=e.onDisabledDayError,N=e.colorPrimary,w=e.colorPrimaryLight,_=e.slideAnimationDuration,k=e.minimumDate,A=e.maximumDate,R=e.selectorStartingYear,O=e.selectorEndingYear,M=e.locale,T=e.shouldHighlightWeekends,x=e.renderFooter,L=e.customDaysClassName,P=e.picker,I=e.refCallback,j=e.isPortal,Y=e.portalScrollClasses,W=t.useRef(null),B=t.useRef(null),F=t.useRef(!1),G=t.useRef(!1),H=s(t.useState(!1),2),q=H[0],V=H[1],X=function(){if(j){var e=B.current.getBoundingClientRect();G.current.style.position="fixed",G.current.style.zIndex=999,G.current.style.left=e.x+"px",G.current.style.top=e.y+e.height/2+"px"}};t.useEffect((function(){if(Y){var e=function(){X()};return q&&document.querySelectorAll(Y).forEach((function(t){return t.addEventListener("scroll",e)})),function(){document.querySelectorAll(Y).forEach((function(t){return t.removeEventListener("scroll",e)}))}}}),[q,Y]),t.useEffect((function(){var e=function(){V(!1)};return window.addEventListener("blur",e,!1),function(){window.removeEventListener("blur",e,!1)}}),[]),t.useEffect((function(){var e=D(o);"MUTLI_DATE"!==e&&(("SINGLE_DATE"===e?!q:!q&&o.from&&o.to)&&B.current.blur())}),[o,q]);t.useLayoutEffect((function(){if(q){X();var e=W.current.getBoundingClientRect(),t=e.left,n=e.width,a=e.height,r=e.top,o=document.documentElement,i=o.clientWidth,c=o.clientHeight,l=t+n>i,s=t<0,u=r+a>c;W.current.style.left=function(){var e=t+n-i;if(l||s){var a=Math.abs(t),r=s?a:0;return l?"calc(50% - ".concat(e,"px)"):"calc(50% + ".concat(r,"px)")}}(),("auto"===E&&u||"top"===E)&&W.current.classList.add("-top")}}),[q]);t.useEffect((function(){!q&&F.current&&(B.current.focus(),F.current=!1)}),[F,q]),t.useEffect((function(){I&&I({openCalendar:function(){B.current.focus()}})}),[]);var K=n.createElement("div",{className:"DatePicker__calendarContainer__wrap",ref:G},q&&n.createElement(n.Fragment,null,n.createElement("div",{ref:W,className:"DatePicker__calendarContainer","data-testid":"calendar-container",role:"presentation",onMouseDown:function(){F.current=!0}},n.createElement(J,{value:o,onChange:function(e){var t=D(o);i(e),("SINGLE_DATE"===t||"RANGE"===t&&e.from&&e.to)&&V(!1)},calendarClassName:h,calendarTodayClassName:y,calendarSelectedDayClassName:g,calendarRangeStartClassName:p,calendarRangeBetweenClassName:v,calendarRangeEndClassName:S,disabledDays:b,colorPrimary:N,colorPrimaryLight:w,slideAnimationDuration:_,onDisabledDayError:C,minimumDate:k,maximumDate:A,selectorStartingYear:R,selectorEndingYear:O,locale:M,shouldHighlightWeekends:T,renderFooter:x,customDaysClassName:L,picker:P})),n.createElement("div",{className:"DatePicker__calendarArrow"})));return n.createElement("div",{ref:r,onFocus:function(){F.current||V(!0)},onBlur:function(e){if(e.persist(),q){var t=W.current.contains(e.relatedTarget);F.current?(F.current=!1,B.current.focus()):t&&e.relatedTarget?e.relatedTarget.focus():V(!1)}},onKeyUp:function(e){switch(e.key){case"Enter":V(!0);break;case"Escape":V(!1),F.current=!0}},className:"DatePicker ".concat(f),role:"presentation"},n.createElement(U,{ref:B,formatInputText:c,value:o,inputPlaceholder:l,inputClassName:u,renderInput:m,inputName:d,locale:M}),j?a.createPortal(n.createElement("div",{className:"DatePicker ".concat(f)},K),document.body):K)}));H.defaultProps={wrapperClassName:"",locale:"en",calendarPopperPosition:"auto",isPortal:!1},exports.Calendar=J,exports.default=H,exports.utils=T;
